[
  {
    "bookSourceComment": "//2025.3.19by.◎辞晨◎",
    "bookSourceGroup": "写源",
    "bookSourceName": "爱巴士书房◎辞晨◎",
    "bookSourceType": 0,
    "bookSourceUrl": "https://www.ibusxs.com/",
    "bookUrlPattern": "",
    "customOrder": -99903,
    "enabled": false,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "exploreUrl": "@js:\nsort=[];\npush=(title,url,type1,type2)=>sort.push({\n\t\ttitle: title,\n\t\turl: url,\n\t\tstyle: {\n\t\t\t\tlayout_flexGrow: type1,\n\t\t\t\tlayout_flexBasisPercent: type2\n\t\t\t}\n\t});\npush(\"全部🌊分类\",null,1,1)\n\tarList=[[\"仙侠\",\"94\"],[\"言情\",\"95\"],[\"战争军事\",\"96\"],[\"玄门\",\"97\"],[\"穿越\",\"98\"],[\"道听途说\",\"101\"],[\"舞文弄墨\",\"102\"],[\"僵尸鬼话\",\"103\"],[\"情感生活\",\"104\"],[\"BLGL\",\"105\"],[\"历史演说\",\"106\"],[\"科幻\",\"108\"],[\"游戏\",\"109\"],[\"商业经济\",\"110\"],[\"武侠\",\"111\"],[\"传记回忆\",\"200\"],[\"随笔杂谈\",\"201\"],[\"言情小说\",\"202\"],[\"历史小说\",\"203\"],[\"侦探推理\",\"204\"],[\"惊悚悬疑\",\"205\"],[\"网络玄幻\",\"206\"],[\"寓言童话\",\"207\"],[\"青春都市\",\"208\"],[\"社会心理\",\"209\"],[\"外国小说\",\"210\"],[\"科幻小说\",\"211\"],[\"当代小说\",\"212\"],[\"武侠小说\",\"213\"],[\"纪实报告\",\"214\"],[\"世界历史\",\"215\"],[\"中国历史\",\"216\"],[\"科普学习\",\"217\"],[\"诗歌戏曲\",\"218\"],[\"宗教哲学\",\"219\"],[\"文学理论\",\"220\"],[\"日语读物\",\"221\"],[\"作品集\",\"222\"],[\"国学古籍\",\"223\"],[\"战争军事\",\"224\"],[\"政治经济\",\"225\"],[\"古典文学\",\"226\"],[\"现代小说\",\"227\"],[\"官场小说\",\"228\"],[\"轻小说\",\"229\"],[\"现代耽美\",\"301\"],[\"古耽架空\",\"302\"],[\"穿越重生\",\"303\"],[\"BL同人\",\"304\"],[\"GL百合\",\"305\"],[\"玄幻科幻\",\"306\"],[\"都市言情\",\"307\"],[\"古代言情\",\"308\"],[\"网游竞技\",\"309\"],[\"推理悬疑\",\"310\"],[\"书友推荐\",\"311\"],[\"站内推荐\",\"312\"],[\"小妈文学\",\"313\"],[\"蛇耽系列\",\"314\"],[\"追夫火葬场\",\"315\"],[\"久别重逢\",\"316\"],[\"虫族系列\",\"317\"],[\"键盘网游\",\"318\"],[\"校园文学\",\"319\"],[\"人外系列\",\"320\"],[\"糙汉系列\",\"500\"],[\"综合荟萃\",\"501\"],[\"快穿系列\",\"502\"],[\"家庭系列\",\"503\"],[\"师生系列\",\"504\"],[\"绿色系列\",\"505\"],[\"大长篇\",\"506\"],[\"青青校园\",\"507\"],[\"玄幻仙侠\",\"508\"],[\"职场生活\",\"509\"],[\"乡野山村\",\"510\"],[\"凌辱暴力\",\"511\"],[\"古代言情\",\"512\"],[\"都市言情\",\"513\"],[\"精品无H\",\"514\"]]\n\tarList.map(([tag,uri])=>{\turl=`https://www.ibusread.com/api/category/list,{\n \"body\": \"category=${uri}&type=0&page_index={{page}}\",\n \"method\": \"POST\"\n}`;\n\t\tpush(tag, url, 1, 0.25);\n\t\t});\n//java.log(JSON.stringify(sort))\nJSON.stringify(sort)",
    "header": "{\n  'User-Agent':'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.0.0 Safari/537.36 Edg/129.0.0.0',\n  'Referer': \"https://ibusroom.com/\",\n  'Cookie': \"sourceuuid=af37a214-5f9f-4944-8c1d-ab2827026253\"\n}",
    "lastUpdateTime": 1742383497110,
    "loginUi": "[\n    {\n        \"name\": \"用户名\",\n        \"type\": \"text\"\n    },\n    {\n        \"name\": \"密码\",\n        \"type\": \"password\"\n    },\n    {\n        \"name\": \"🔺 登  录 🔺\",\n        \"type\": \"button\",\n        \"action\": \"login(true)\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.39\n        }\n    },\n    {\n        \"name\": \" ⚙️ 登 出 ⚙️ \",\n        \"type\": \"button\",\n        \"action\": \"D()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.39\n        }\n    },\n    {\n        \"name\": \"显示密码\",\n        \"type\": \"button\",\n        \"action\": \"T()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.39\n        }\n    },\n    {\n        \"name\": \"点击试试\",\n        \"type\": \"button\",\n        \"action\": \"O()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.39\n        }\n    }\n]\n",
    "loginUrl": "function login(b) {\n  if (b == undefined) return true;\n  info = result\n  so = source.key\n  pw = info.密码\n    if (b) {\n    url = so + 'api/user/login,'\n    body = `account=${info.用户名}&password=${pw}&appuuid=`  } \n  post = JSON.stringify({\n    \"body\": String(body),\n    \"method\": \"POST\"\n  })\n  url += post\n  java.log(url)\n  result = java.ajax(url)\n  if (result.match(/ok/)) {\n    java.log(result);\n    java.toast('登录成功' + info[\"用户名\"]); \n    c = cookie.getCookie(source.key)\n    source.putLoginHeader(c);\n  } else {\n    java.toast('登录失败');\n}}\nD=()=>{\n\tjava.ajax(source.key + 'logout.php'); cookie.removeCookie(source.key);\n source.removeLoginHeader(); \n  java.toast('登出成功')\n\t}\nfunction T() {\n\t   java.toast('密码：' + result.密码)\n  }\nO = () => {\n  java.toast(\"这个按钮是用来看的(((o(*ﾟ▽ﾟ*)o)))\")\n}",
    "respondTime": 180000,
    "ruleBookInfo": {
      "author": "[property=\"og:novel:author\"]@content",
      "coverUrl": "",
      "intro": "[property=\"og:description\"]@content",
      "kind": "",
      "lastChapter": "",
      "name": "[property=\"og:novel:book_name\"]@content",
      "tocUrl": ".g-nav-control@a.0@href",
      "wordCount": ""
    },
    "ruleContent": {
      "content": "$..content_data\n<js>\np=result.match(/\\[(.*)\\]/)[1].replace(/\\\"\\,/g,'\\n')\n//java.log(p)\n</js>",
      "replaceRegex": "##.*{{book.name}}.*|.*{{book.author}}.*"
    },
    "ruleExplore": {
      "bookList": ""
    },
    "ruleSearch": {
      "author": "$.auth",
      "bookList": "$..list[*]",
      "bookUrl": "https://ibusroom.com/book/{{$._id}}",
      "checkKeyWord": "",
      "coverUrl": "",
      "kind": "$.tags",
      "name": "$.name##\\（.*|\\[|]",
      "wordCount": ""
    },
    "ruleToc": {
      "chapterList": ".list@li",
      "chapterName": "a@text",
      "chapterUrl": "a@href\n<js>\nvar p = result.match(/novel\\/chapter\\/(.*?)\\./);\nvar b = result.match(/2Fchapter\\%2F(.*?)\\.html/);\n\nif (b || p) {\n  var id = b? b[1] : p[1];\n  url = `https://www.ibusread.com/api/chapter/detail,{\"body\": \"id=${id}\",\"method\": \"POST\"}`;\n} else {\n  result;\n}\n</js>\n",
      "formatJs": "",
      "nextTocUrl": ".section-list@a@href"
    },
    "searchUrl": "<js>\nurl=\"https://ibusroom.com/api/search/list\"\nvar bd={\n  \"method\": \"POST\",\n  \"body\":`name=${key}&page_index=${page}`\n}\nbjson=JSON.stringify(bd);\nurl+','+bjson\n</js>",
    "weight": 0
  }
]